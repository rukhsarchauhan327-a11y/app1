<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notifications - Kirana Konnect</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .filter-btn {
            transition: all 0.3s ease;
        }
        .notification-item {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .notification-item:hover {
            transform: translateY(-1px);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-10">
        <div class="flex items-center justify-between px-4 py-3">
            <button onclick="goBack()" class="p-2 hover:bg-gray-100 rounded-lg">
                <i class="fa-solid fa-arrow-left text-gray-600 text-lg"></i>
            </button>
            <div class="text-center">
                <h1 class="text-lg font-semibold text-dark">All Notifications</h1>
                <p class="text-xs text-gray-500">Business Alerts & Updates</p>
            </div>
            <button onclick="markAllAsRead()" class="p-2 hover:bg-gray-100 rounded-lg">
                <i class="fa-solid fa-check-double text-gray-600 text-lg"></i>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="pt-16 pb-20 bg-gray-50">
        <!-- Filter Tabs -->
        <div class="bg-white px-4 py-3 border-b">
            <div class="flex space-x-2 overflow-x-auto">
                <button class="filter-btn bg-primary text-white px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap" data-filter="all" onclick="filterNotifications('all')">All</button>
                <button class="filter-btn bg-gray-100 text-gray-600 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap" data-filter="critical" onclick="filterNotifications('critical')">Critical</button>
                <button class="filter-btn bg-gray-100 text-gray-600 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap" data-filter="inventory" onclick="filterNotifications('inventory')">Inventory</button>
                <button class="filter-btn bg-gray-100 text-gray-600 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap" data-filter="payments" onclick="filterNotifications('payments')">Payments</button>
                <button class="filter-btn bg-gray-100 text-gray-600 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap" data-filter="system" onclick="filterNotifications('system')">System</button>
            </div>
        </div>

        <!-- Notifications List -->
        <div class="px-4 py-4 space-y-3" id="notifications-container">
            <!-- Critical Alert - Expired Items -->
            <div class="notification-item bg-white rounded-lg shadow-sm border-l-4 border-danger cursor-pointer hover:shadow-md transition-shadow" data-type="critical" onclick="window.location.href='/expiry-alert'">
                <div class="p-4">
                    <div class="flex items-start space-x-3">
                        <div class="bg-danger/10 p-2 rounded-full">
                            <i class="fa-solid fa-triangle-exclamation text-danger text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-start justify-between">
                                <div>
                                    <h3 class="font-semibold text-danger text-sm">5 Items Expired</h3>
                                    <p class="text-xs text-gray-600 mt-1">Remove from inventory immediately to avoid health risks</p>
                                    <p class="text-xs text-gray-400 mt-2">2 hours ago</p>
                                </div>
                                <span class="bg-danger text-white text-xs px-2 py-1 rounded-full">URGENT</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Inventory Alert - Low Stock -->
            <div class="notification-item bg-white rounded-lg shadow-sm border-l-4 border-accent cursor-pointer hover:shadow-md transition-shadow" data-type="inventory" onclick="window.location.href='/low-stock'">
                <div class="p-4">
                    <div class="flex items-start space-x-3">
                        <div class="bg-accent/10 p-2 rounded-full">
                            <i class="fa-solid fa-box text-accent text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-start justify-between">
                                <div>
                                    <h3 class="font-semibold text-accent text-sm">10 Items Low Stock</h3>
                                    <p class="text-xs text-gray-600 mt-1">Reorder soon to avoid stockouts</p>
                                    <p class="text-xs text-gray-400 mt-2">4 hours ago</p>
                                </div>
                                <span class="bg-accent text-white text-xs px-2 py-1 rounded-full">HIGH</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Payment Alert -->
            <div class="notification-item bg-white rounded-lg shadow-sm border-l-4 border-success cursor-pointer hover:shadow-md transition-shadow" data-type="payment" onclick="window.location.href='/pending-credits'">
                <div class="p-4">
                    <div class="flex items-start space-x-3">
                        <div class="bg-success/10 p-2 rounded-full">
                            <i class="fa-solid fa-money-bill text-success text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-start justify-between">
                                <div>
                                    <h3 class="font-semibold text-success text-sm">â‚¹5,000 Payment Received</h3>
                                    <p class="text-xs text-gray-600 mt-1">Ramesh Kumar made a credit payment</p>
                                    <p class="text-xs text-gray-400 mt-2">1 day ago</p>
                                </div>
                                <span class="bg-success text-white text-xs px-2 py-1 rounded-full">PAID</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- System Alert -->
            <div class="notification-item bg-white rounded-lg shadow-sm border-l-4 border-primary cursor-pointer hover:shadow-md transition-shadow" data-type="system" onclick="window.location.href='/profile'">
                <div class="p-4">
                    <div class="flex items-start space-x-3">
                        <div class="bg-primary/10 p-2 rounded-full">
                            <i class="fa-solid fa-shield-exclamation text-primary text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-start justify-between">
                                <div>
                                    <h3 class="font-semibold text-primary text-sm">Backup Disabled</h3>
                                    <p class="text-xs text-gray-600 mt-1">Enable backup to protect your business data</p>
                                    <p class="text-xs text-gray-400 mt-2">2 days ago</p>
                                </div>
                                <span class="bg-primary text-white text-xs px-2 py-1 rounded-full">WARNING</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200">
        <div class="flex items-center justify-around py-2">
            <button class="flex flex-col items-center py-1 px-3" onclick="window.location.href='/dashboard'">
                <i class="fa-solid fa-home text-gray-400 text-xl"></i>
                <span class="text-xs mt-1 text-gray-400">Home</span>
            </button>
            <button class="flex flex-col items-center py-1 px-3" onclick="window.location.href='/inventory'">
                <i class="fa-solid fa-box text-gray-400 text-xl"></i>
                <span class="text-xs mt-1 text-gray-400">Inventory</span>
            </button>
            <button onclick="window.location.href='/add-item'" class="relative -top-4 bg-primary rounded-full p-4 shadow-lg">
                <i class="fa-solid fa-barcode text-white text-xl"></i>
            </button>
            <button class="flex flex-col items-center py-1 px-3 relative" onclick="window.location.href='/cart'">
                <i class="fa-solid fa-shopping-cart text-gray-400 text-xl"></i>
                <span class="text-xs mt-1 text-gray-400">Cart</span>
                <span class="absolute -top-1 -right-1 bg-danger text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold">7</span>
            </button>
            <button class="flex flex-col items-center py-1 px-3">
                <i class="fa-solid fa-user text-gray-400 text-xl"></i>
                <span class="text-xs mt-1 text-gray-400">Profile</span>
            </button>
        </div>
    </nav>

    <script>
        // Basic configuration
        var primaryColor = '#2563eb';
        var dangerColor = '#dc2626';
        var accentColor = '#f59e0b';
        var successColor = '#16a34a';

        // Configure Tailwind colors
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: primaryColor,
                        danger: dangerColor,
                        accent: accentColor,
                        success: successColor,
                        dark: '#1f2937'
                    }
                }
            }
        };

        // Simple functions that work
        function goBack() {
            window.location.href = '/dashboard';
        }

        function markAllAsRead() {
            alert('All notifications marked as read');
        }

        function filterNotifications(filter) {
            var filterBtns = document.querySelectorAll('.filter-btn');
            var notifications = document.querySelectorAll('.notification-item');
            
            // Update button styles
            for (var i = 0; i < filterBtns.length; i++) {
                var btn = filterBtns[i];
                btn.classList.remove('bg-primary', 'text-white');
                btn.classList.add('bg-gray-100', 'text-gray-600');
            }
            
            var activeBtn = document.querySelector('[data-filter="' + filter + '"]');
            if (activeBtn) {
                activeBtn.classList.remove('bg-gray-100', 'text-gray-600');
                activeBtn.classList.add('bg-primary', 'text-white');
            }
            
            // Filter notifications
            for (var j = 0; j < notifications.length; j++) {
                var notification = notifications[j];
                var type = notification.getAttribute('data-type');
                var shouldShow = false;
                
                if (filter === 'all') {
                    shouldShow = true;
                } else if (filter === 'critical') {
                    shouldShow = (type === 'critical');
                } else if (filter === 'inventory') {
                    shouldShow = (type === 'inventory');
                } else if (filter === 'payments') {
                    shouldShow = (type === 'payment');
                } else if (filter === 'system') {
                    shouldShow = (type === 'system');
                }
                
                notification.style.display = shouldShow ? 'block' : 'none';
            }
        }
    </script>
</body>
</html>